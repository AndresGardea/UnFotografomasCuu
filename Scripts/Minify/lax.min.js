(()=>{const lax=(()=>{const lax={elements:[]};let lastY=0,currentBreakpoint="default";const breakpointsSeparator="_",transformFns={"data-lax-opacity":(style,v)=>{style.opacity=v},"data-lax-translate":(style,v)=>{style.transform+=` translate(${v}px, ${v}px)`},"data-lax-translate-x":(style,v)=>{style.transform+=` translateX(${v}px)`},"data-lax-translate-y":(style,v)=>{style.transform+=` translateY(${v}px)`},"data-lax-scale":(style,v)=>{style.transform+=` scale(${v})`},"data-lax-scale-x":(style,v)=>{style.transform+=` scaleX(${v})`},"data-lax-scale-y":(style,v)=>{style.transform+=` scaleY(${v})`},"data-lax-skew":(style,v)=>{style.transform+=` skew(${v}deg, ${v}deg)`},"data-lax-skew-x":(style,v)=>{style.transform+=` skewX(${v}deg)`},"data-lax-skew-y":(style,v)=>{style.transform+=` skewY(${v}deg)`},"data-lax-rotate":(style,v)=>{style.transform+=` rotate(${v}deg)`},"data-lax-rotate-x":(style,v)=>{style.transform+=` rotateX(${v}deg)`},"data-lax-rotate-y":(style,v)=>{style.transform+=` rotateY(${v}deg)`},"data-lax-brightness":(style,v)=>{style.filter+=` brightness(${v}%)`},"data-lax-contrast":(style,v)=>{style.filter+=` contrast(${v}%)`},"data-lax-hue-rotate":(style,v)=>{style.filter+=` hue-rotate(${v}deg)`},"data-lax-blur":(style,v)=>{style.filter+=` blur(${v}px)`},"data-lax-invert":(style,v)=>{style.filter+=`  invert(${v}%)`},"data-lax-saturate":(style,v)=>{style.filter+=`  saturate(${v}%)`},"data-lax-grayscale":(style,v)=>{style.filter+=`  grayscale(${v}%)`},"data-lax-bg-pos":(style,v)=>{style.backgroundPosition=`${v}px ${v}px`},"data-lax-bg-pos-x":(style,v)=>{style.backgroundPositionX=`${v}px`},"data-lax-bg-pos-y":(style,v)=>{style.backgroundPositionY=`${v}px`}};let crazy="";for(let i=0;i<20;i++)crazy+=" "+5*i+" "+47*i%360+", ";function intrp(t,v){let i=0;for(;t[i][0]<=v&&void 0!==t[i+1];)i+=1;const x=t[i][0],prevX=void 0===t[i-1]?x:t[i-1][0],y=t[i][1],prevY=void 0===t[i-1]?y:t[i-1][1],xPoint=Math.min(Math.max((v-prevX)/(x-prevX),0),1),yPoint=xPoint*(y-prevY)+prevY;return yPoint}function fnOrVal(s){return"("===s[0]?eval(s):parseFloat(s)}return lax.presets={linger:v=>({"data-lax-translate-y":"(vh*0.7) 0, 0 200, -500 0"}),lazy:(v=100)=>({"data-lax-translate-y":`(vh) 0, (-elh) ${v}`}),eager:(v=100)=>({"data-lax-translate-y":`(vh) 0, (-elh) -${v}`}),slalom:(v=50)=>({"data-lax-translate-x":`vh ${v}, (vh*0.8) ${-v}, (vh*0.6) ${v}, (vh*0.4) ${-v}, (vh*0.2) ${v}, (vh*0) ${-v}, (-elh) ${v}`}),crazy:v=>({"data-lax-hue-rotate":`${crazy} | loop=20`}),spin:(v=360)=>({"data-lax-rotate":`(vh) 0, (-elh) ${v}`}),spinRev:(v=360)=>({"data-lax-rotate":`(vh) 0, (-elh) ${-v}`}),spinIn:(v=360)=>({"data-lax-rotate":`vh ${v}, (vh*0.5) 0`}),spinOut:(v=360)=>({"data-lax-rotate":`(vh*0.5) 0, -elh ${v}`}),blurInOut:(v=40)=>({"data-lax-blur":`(vh) ${v}, (vh*0.8) 0, (vh*0.2) 0, 0 ${v}`}),blurIn:(v=40)=>({"data-lax-blur":`(vh) ${v}, (vh*0.7) 0`}),blurOut:(v=40)=>({"data-lax-blur":`(vh*0.3) 0, 0 ${v}`}),fadeInOut:()=>({"data-lax-opacity":"(vh) 0, (vh*0.8) 1, (vh*0.2) 1, 0 0"}),fadeIn:()=>({"data-lax-opacity":"(vh) 0, (vh*0.7) 1"}),fadeOut:()=>({"data-lax-opacity":"(vh*0.3) 1, 0 0"}),driftLeft:(v=100)=>({"data-lax-translate-x":`vh ${v}, -elh ${-v}`}),driftRight:(v=100)=>({"data-lax-translate-x":`vh ${-v}, -elh ${v}`}),leftToRight:(v=1)=>({"data-lax-translate-x":`vh 0, -elh (vw*${v})`}),rightToLeft:(v=1)=>({"data-lax-translate-x":`vh 0, -elh (vw*${-v})`}),zoomInOut:(v=.2)=>({"data-lax-scale":`(vh) ${v}, (vh*0.8) 1, (vh*0.2) 1, -elh ${v}`}),zoomIn:(v=.2)=>({"data-lax-scale":`(vh) ${v}, (vh*0.7) 1`}),zoomOut:(v=.2)=>({"data-lax-scale":`(vh*0.3) 1, -elh ${v}`}),speedy:(v=30)=>({"data-lax-skew-x":`(vh) ${v}, -elh ${-v}`}),swing:(v=30)=>({"data-lax-skew-y":`(vh) ${v}, -elh ${-v}`})},lax.addPreset=(p,o)=>{lax.presets[p]=o},lax.setup=(o={})=>{lax.breakpoints=o.breakpoints||{},lax.selector=o.selector||".lax",lax.populateElements()},lax.removeElement=el=>{const i=lax.elements.findIndex(o=>o.el=el);i>-1&&lax.elements.splice(i,1)},lax.createLaxObject=el=>{const o={el:el,originalStyle:{transform:el.style.transform,filter:el.style.filter},transforms:{}};return o},lax.calcTransforms=o=>{const{el:el}=o,presets=[];for(let i=0;i<el.attributes.length;i++){const a=el.attributes[i];a.name.indexOf("data-lax-preset")>-1&&presets.push(a)}for(let i=0;i<presets.length;i++){const a=presets[i],b=a.name.split(breakpointsSeparator),breakpoint=b[1]?`${breakpointsSeparator}${b[1]}`:"";a.value.split(" ").forEach(p=>{const bits=p.split("-"),fn=lax.presets[bits[0]];if(fn){const d=fn(bits[1]);for(let k in d)el.setAttribute(`${k}${breakpoint}`,d[k])}else console.log(`lax error: preset ${bits[0]} is not defined`)});const currentAnchor=el.getAttribute("data-lax-anchor");currentAnchor&&""!==currentAnchor||el.setAttribute("data-lax-anchor","self"),el.attributes.removeNamedItem(a.name)}const useGpu=!(el.attributes["data-lax-use-gpu"]&&"false"===el.attributes["data-lax-use-gpu"].value);if(useGpu&&(el.style["backface-visibility"]="hidden",el.style["-webkit-backface-visibility"]="hidden"),el.attributes["data-lax-use-gpu"]&&el.attributes.removeNamedItem("data-lax-use-gpu"),o.optimise=!1,el.attributes["data-lax-optimize"]&&"true"===el.attributes["data-lax-optimize"].value){o.optimise=!0;const bounds=el.getBoundingClientRect();el.setAttribute("data-lax-opacity",`${-bounds.height-1} 0, ${-bounds.height} 1, ${window.innerHeight} 1, ${window.innerHeight+1} 0`),el.attributes.removeNamedItem("data-lax-optimize")}for(let i=0;i<el.attributes.length;i++){const a=el.attributes[i];if(a.name.indexOf("data-lax")<0)continue;const b=a.name.split(breakpointsSeparator),bits=b[0].split("-"),breakpoint=b[1]||"default";if("lax"===bits[1])if("data-lax-anchor"===a.name){o["data-lax-anchor"]="self"===a.value?el:document.querySelector(a.value);const rect=o["data-lax-anchor"].getBoundingClientRect();o.anchorTop=Math.floor(rect.top)+window.scrollY}else{const tString=a.value.replace(/vw/g,window.innerWidth).replace(/vh/g,window.innerHeight).replace(/elh/g,el.clientHeight).replace(/elw/g,el.clientWidth).replace(/\s+/g," "),[arrString,optionString]=tString.split("|"),options={};optionString&&optionString.split(" ").forEach(o=>{const[key,val]=o.split("=");options[key]=key&&fnOrVal(val)});const name=b[0],valueMap=arrString.split(",").map(x=>x.trim().split(" ").map(fnOrVal)).sort((a,b)=>a[0]-b[0]);o.transforms[name]||(o.transforms[name]={}),o.transforms[name][breakpoint]={valueMap:valueMap,options:options}}}const spriteData=el.attributes["data-lax-sprite-data"]&&el.attributes["data-lax-sprite-data"].value;if(spriteData){o.spriteData=spriteData.split(",").map(x=>parseInt(x)),el.style.height=o.spriteData[1]+"px",el.style.width=o.spriteData[0]+"px";const spriteImage=el.attributes["data-lax-sprite-image"]&&el.attributes["data-lax-sprite-image"].value;spriteImage&&(el.style.backgroundImage=`url(${spriteImage})`)}return o},lax.addElement=el=>{const o=lax.calcTransforms(lax.createLaxObject(el));lax.elements.push(o),lax.updateElement(o)},lax.populateElements=()=>{lax.elements=[],document.querySelectorAll(lax.selector).forEach(lax.addElement),currentBreakpoint=lax.getCurrentBreakPoint()},lax.updateElements=()=>{lax.elements.forEach(o=>{lax.calcTransforms(o),lax.updateElement(o)}),currentBreakpoint=lax.getCurrentBreakPoint()},lax.getCurrentBreakPoint=()=>{let b="default";const w=window.innerWidth;for(let i in lax.breakpoints){const px=parseFloat(lax.breakpoints[i]);if(!(px<=w))break;b=i}return b},lax.updateElement=o=>{const{originalStyle:originalStyle,anchorTop:anchorTop,transforms:transforms,spriteData:spriteData,el:el}=o;let r=anchorTop?anchorTop-lastY:lastY;const style={transform:originalStyle.transform,filter:originalStyle.filter};for(let i in transforms){const transformData=transforms[i][currentBreakpoint]||transforms[i].default;if(!transformData)continue;let _r=r;transformData.options.offset&&(_r+=transformData.options.offset),transformData.options.speed&&(_r*=transformData.options.speed),transformData.options.loop&&(_r%=transformData.options.loop);const t=transformFns[i],v=intrp(transformData.valueMap,_r);t&&t(style,v)}if(spriteData){const[frameW,frameH,numFrames,cols,scrollStep]=spriteData,frameNo=Math.floor(lastY/scrollStep)%numFrames,framePosX=frameNo%cols,framePosY=Math.floor(frameNo/cols);style.backgroundPosition=`-${framePosX*frameW}px -${framePosY*frameH}px`}if(0===style.opacity)el.style.opacity=0;else for(let k in style)el.style[k]=style[k]},lax.update=y=>{lastY!==y&&(lastY=y,lax.elements.forEach(lax.updateElement))},lax})();"undefined"!=typeof module&&void 0!==module.exports?module.exports=lax:window.lax=lax})();